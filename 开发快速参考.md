# å¼€å‘å¿«é€Ÿå‚è€ƒæŒ‡å—

æœ¬æŒ‡å—æä¾›å¼€å‘è¿‡ç¨‹ä¸­çš„å¿«é€Ÿå‚è€ƒï¼Œå¸®åŠ©ä½ é«˜æ•ˆå®Œæˆé¡¹ç›®ã€‚

## ğŸ“‹ å¼€å‘æ£€æŸ¥æ¸…å•

### æ¯ä¸ªé˜¶æ®µå¼€å§‹å‰
- [ ] é˜…è¯»è¯¥é˜¶æ®µçš„è¯¦ç»†ä»»åŠ¡
- [ ] ç†è§£è¯¥é˜¶æ®µçš„ç›®æ ‡
- [ ] å‡†å¤‡æµ‹è¯•ç¯å¢ƒ

### æ¯ä¸ªé˜¶æ®µå¼€å‘ä¸­
- [ ] å…ˆå®ç°æœåŠ¡å™¨ç«¯åŸºç¡€åŠŸèƒ½
- [ ] å†å®ç°å®¢æˆ·ç«¯å¯¹åº”åŠŸèƒ½
- [ ] åŠæ—¶æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸
- [ ] è®°å½•é‡åˆ°çš„é—®é¢˜

### æ¯ä¸ªé˜¶æ®µå®Œæˆå
- [ ] å®Œæˆæ‰€æœ‰æµ‹è¯•ç›®æ ‡
- [ ] ä»£ç æäº¤åˆ° Git
- [ ] è®°å½•å­¦ä¹ ç¬”è®°
- [ ] æ£€æŸ¥ä»£ç è´¨é‡

---

## ğŸ”§ å¸¸ç”¨ä»£ç æ¨¡æ¿

### 1. åˆ›å»º Qt é¡¹ç›®æ–‡ä»¶ (.pro)

**å®¢æˆ·ç«¯ (ChatClient.pro)**
```pro
QT += core gui sql network multimedia
greaterThan(QT_MAJOR_VERSION, 4): QT += widgets

TARGET = ChatClient
TEMPLATE = app

CONFIG += c++11

SOURCES += main.cpp \
    mainwindow.cpp \
    clientsocket.cpp

HEADERS += mainwindow.h \
    clientsocket.h

FORMS += mainwindow.ui

RESOURCES += images.qrc
```

**æœåŠ¡å™¨ç«¯ (ChatServer.pro)**
```pro
QT += core gui sql network
greaterThan(QT_MAJOR_VERSION, 4): QT += widgets

TARGET = ChatServer
TEMPLATE = app

CONFIG += c++11

SOURCES += main.cpp \
    mainwindow.cpp \
    tcpserver.cpp \
    clientsocket.cpp

HEADERS += mainwindow.h \
    tcpserver.h \
    clientsocket.h

FORMS += mainwindow.ui

RESOURCES += images.qrc
```

### 2. å•ä¾‹æ¨¡å¼æ¨¡æ¿

```cpp
// .h æ–‡ä»¶
class MyClass {
public:
    static MyClass *Instance();
    
private:
    static MyClass *self;
    MyClass();
};

// .cpp æ–‡ä»¶
MyClass *MyClass::self = NULL;

MyClass *MyClass::Instance()
{
    static QMutex mutex;
    if (NULL == self) {
        QMutexLocker locker(&mutex);
        if (!self) {
            self = new MyClass();
        }
    }
    return self;
}
```

### 3. ä¿¡å·æ§½è¿æ¥æ¨¡æ¿

```cpp
// åœ¨æ„é€ å‡½æ•°ä¸­
connect(sender, SIGNAL(signalName(å‚æ•°ç±»å‹)), 
        receiver, SLOT(slotName(å‚æ•°ç±»å‹)));

// ä½¿ç”¨ lambdaï¼ˆQt 5.0+ï¼‰
connect(button, &QPushButton::clicked, [=]() {
    // å¤„ç†é€»è¾‘
});
```

### 4. JSON æ¶ˆæ¯æ„é€ æ¨¡æ¿

```cpp
// æ„é€ æ¶ˆæ¯
QJsonObject json;
json.insert("key1", value1);
json.insert("key2", value2);

QJsonDocument document;
document.setObject(json);
QByteArray data = document.toJson(QJsonDocument::Compact);

// å‘é€
socket->write(data);
```

### 5. JSON æ¶ˆæ¯è§£ææ¨¡æ¿

```cpp
// æ¥æ”¶æ•°æ®
QByteArray data = socket->readAll();

// è§£æ
QJsonParseError error;
QJsonDocument doc = QJsonDocument::fromJson(data, &error);

if (error.error == QJsonParseError::NoError && doc.isObject()) {
    QJsonObject json = doc.object();
    QString value = json.value("key").toString();
}
```

### 6. æ•°æ®åº“æ“ä½œæ¨¡æ¿

```cpp
// æ‰“å¼€æ•°æ®åº“
QSqlDatabase db = QSqlDatabase::addDatabase("QSQLITE");
db.setDatabaseName("database.db");
if (!db.open()) {
    qDebug() << "æ•°æ®åº“æ‰“å¼€å¤±è´¥";
    return;
}

// æ‰§è¡ŒæŸ¥è¯¢
QSqlQuery query;
query.prepare("SELECT * FROM table WHERE id = ?");
query.addBindValue(id);
if (query.exec() && query.next()) {
    QString name = query.value("name").toString();
}

// æ‰§è¡Œæ’å…¥
query.prepare("INSERT INTO table (name, value) VALUES (?, ?)");
query.addBindValue(name);
query.addBindValue(value);
query.exec();
```

---

## ğŸ› å¸¸è§é—®é¢˜è§£å†³

### 1. ç¼–è¯‘é”™è¯¯

**é—®é¢˜**ï¼šæ‰¾ä¸åˆ°å¤´æ–‡ä»¶
```
è§£å†³ï¼šæ£€æŸ¥ .pro æ–‡ä»¶ä¸­çš„ HEADERSï¼Œç¡®ä¿è·¯å¾„æ­£ç¡®
```

**é—®é¢˜**ï¼šé“¾æ¥é”™è¯¯
```
è§£å†³ï¼šæ£€æŸ¥ .pro æ–‡ä»¶ä¸­çš„ QT += æ¨¡å—ï¼Œç¡®ä¿åŒ…å«æ‰€éœ€æ¨¡å—
```

**é—®é¢˜**ï¼šMOC é”™è¯¯
```
è§£å†³ï¼šç¡®ä¿ç±»ç»§æ‰¿è‡ª QObjectï¼Œå¹¶ä¸”æœ‰ Q_OBJECT å®
```

### 2. è¿è¡Œæ—¶é”™è¯¯

**é—®é¢˜**ï¼šæ•°æ®åº“æ‰“å¼€å¤±è´¥
```
è§£å†³ï¼š
1. æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶è·¯å¾„
2. ç¡®ä¿ç›®å½•å­˜åœ¨
3. æ£€æŸ¥æ–‡ä»¶æƒé™
```

**é—®é¢˜**ï¼šç½‘ç»œè¿æ¥å¤±è´¥
```
è§£å†³ï¼š
1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
2. æ£€æŸ¥ç«¯å£æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
4. æ£€æŸ¥ IP åœ°å€æ˜¯å¦æ­£ç¡®
```

**é—®é¢˜**ï¼šä¿¡å·æ§½ä¸å·¥ä½œ
```
è§£å†³ï¼š
1. æ£€æŸ¥æ˜¯å¦æœ‰ Q_OBJECT å®
2. æ£€æŸ¥ä¿¡å·æ§½å‚æ•°ç±»å‹æ˜¯å¦åŒ¹é…
3. æ£€æŸ¥æ˜¯å¦è°ƒç”¨äº† connect
4. è¿è¡Œ qmake é‡æ–°ç”Ÿæˆ MOC æ–‡ä»¶
```

### 3. é€»è¾‘é”™è¯¯

**é—®é¢˜**ï¼šæ¶ˆæ¯å‘é€å¤±è´¥
```
è°ƒè¯•æ­¥éª¤ï¼š
1. åœ¨å‘é€å‰æ‰“å° JSON å†…å®¹
2. æ£€æŸ¥ Socket è¿æ¥çŠ¶æ€
3. æ£€æŸ¥æ¶ˆæ¯æ ¼å¼æ˜¯å¦æ­£ç¡®
```

**é—®é¢˜**ï¼šæ¶ˆæ¯æ¥æ”¶ä¸åˆ°
```
è°ƒè¯•æ­¥éª¤ï¼š
1. åœ¨æ¥æ”¶å‡½æ•°ä¸­æ·»åŠ æ–­ç‚¹
2. æ£€æŸ¥ä¿¡å·æ§½è¿æ¥
3. æ£€æŸ¥æ¶ˆæ¯ç±»å‹æ˜¯å¦åŒ¹é…
```

---

## ğŸ“š å­¦ä¹ èµ„æº

### Qt å®˜æ–¹æ–‡æ¡£
- [Qt æ–‡æ¡£](https://doc.qt.io/)
- [Qt ç½‘ç»œç¼–ç¨‹](https://doc.qt.io/qt-5/qtnetwork-index.html)
- [Qt SQL](https://doc.qt.io/qt-5/qtsql-index.html)

### å‚è€ƒä¹¦ç±
- ã€ŠQt Creator å¿«é€Ÿå…¥é—¨ã€‹
- ã€ŠC++ GUI Qt4 ç¼–ç¨‹ã€‹

### åœ¨çº¿æ•™ç¨‹
- Qt å®˜æ–¹ç¤ºä¾‹
- å„ç§ Qt æ•™ç¨‹ç½‘ç«™

---

## ğŸ¯ å¼€å‘æŠ€å·§

### 1. è°ƒè¯•æŠ€å·§

**ä½¿ç”¨ qDebug()**
```cpp
qDebug() << "å˜é‡å€¼ï¼š" << variable;
qDebug() << "å‡½æ•°åï¼š" << __FUNCTION__;
qDebug() << "è¡Œå·ï¼š" << __LINE__;
```

**ä½¿ç”¨æ–­ç‚¹**
- åœ¨å…³é”®ä½ç½®è®¾ç½®æ–­ç‚¹
- è§‚å¯Ÿå˜é‡å€¼
- å•æ­¥æ‰§è¡Œ

**ä½¿ç”¨æ—¥å¿—æ–‡ä»¶**
```cpp
QFile logFile("debug.log");
logFile.open(QIODevice::WriteOnly | QIODevice::Append);
QTextStream stream(&logFile);
stream << "æ—¥å¿—ä¿¡æ¯\n";
```

### 2. ä»£ç ç»„ç»‡æŠ€å·§

**æ¨¡å—åŒ–è®¾è®¡**
- æ¯ä¸ªåŠŸèƒ½ä¸€ä¸ªç±»
- èŒè´£å•ä¸€
- æ¥å£æ¸…æ™°

**å‘½åè§„èŒƒ**
- ç±»åï¼šå¤§é©¼å³°ï¼ˆPascalCaseï¼‰
- å‡½æ•°åï¼šå°é©¼å³°ï¼ˆcamelCaseï¼‰
- æˆå‘˜å˜é‡ï¼šm_ å‰ç¼€
- å¸¸é‡ï¼šå…¨å¤§å†™

**æ³¨é‡Šè§„èŒƒ**
```cpp
/**
 * @brief å‡½æ•°åŠŸèƒ½è¯´æ˜
 * @param param1 å‚æ•°1è¯´æ˜
 * @param param2 å‚æ•°2è¯´æ˜
 * @return è¿”å›å€¼è¯´æ˜
 */
int function(int param1, QString param2);
```

### 3. æµ‹è¯•æŠ€å·§

**å•å…ƒæµ‹è¯•**
- æ¯ä¸ªå‡½æ•°å•ç‹¬æµ‹è¯•
- ä½¿ç”¨æ–­è¨€éªŒè¯ç»“æœ

**é›†æˆæµ‹è¯•**
- æµ‹è¯•æ¨¡å—é—´åä½œ
- æµ‹è¯•å®Œæ•´æµç¨‹

**ç”¨æˆ·æµ‹è¯•**
- æ¨¡æ‹ŸçœŸå®ä½¿ç”¨åœºæ™¯
- è®°å½•ç”¨æˆ·ä½“éªŒé—®é¢˜

---

## ğŸ“ å¼€å‘æ—¥å¿—æ¨¡æ¿

### æ¯æ—¥å¼€å‘è®°å½•

```
æ—¥æœŸï¼š2024/01/01
é˜¶æ®µï¼šé˜¶æ®µX - åŠŸèƒ½åç§°

å®Œæˆå†…å®¹ï¼š
- [ ] ä»»åŠ¡1
- [ ] ä»»åŠ¡2

é‡åˆ°çš„é—®é¢˜ï¼š
1. é—®é¢˜æè¿°
   è§£å†³æ–¹æ¡ˆï¼š

2. é—®é¢˜æè¿°
   è§£å†³æ–¹æ¡ˆï¼š

æ˜æ—¥è®¡åˆ’ï¼š
- [ ] ä»»åŠ¡1
- [ ] ä»»åŠ¡2

å­¦ä¹ å¿ƒå¾—ï¼š
...
```

### Bug è®°å½•

```
Bug #1
æè¿°ï¼šæ¶ˆæ¯å‘é€å¤±è´¥
å¤ç°æ­¥éª¤ï¼š
1. ...
2. ...
3. ...

åŸå› åˆ†æï¼š
...

è§£å†³æ–¹æ¡ˆï¼š
...

çŠ¶æ€ï¼šå·²ä¿®å¤/å¾…ä¿®å¤
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨å‘½ä»¤

### ç¼–è¯‘é¡¹ç›®

**Windows (MinGW)**
```bash
cd ChatClient
qmake ChatClient.pro
mingw32-make
```

**Windows (MSVC)**
```bash
cd ChatClient
qmake ChatClient.pro
nmake
```

**Linux/macOS**
```bash
cd ChatClient
qmake ChatClient.pro
make
```

### è¿è¡Œé¡¹ç›®

**Windows**
```bash
./ChatClient.exe
```

**Linux/macOS**
```bash
./ChatClient
```

---

## âœ… ä»£ç å®¡æŸ¥æ¸…å•

### æäº¤å‰æ£€æŸ¥

- [ ] ä»£ç å¯ä»¥ç¼–è¯‘é€šè¿‡
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ²¡æœ‰æ˜æ˜¾çš„ bug
- [ ] ä»£ç æ ¼å¼è§„èŒƒ
- [ ] æœ‰å¿…è¦çš„æ³¨é‡Š
- [ ] æ²¡æœ‰è°ƒè¯•ä»£ç æ®‹ç•™
- [ ] å˜é‡å‘½åæ¸…æ™°
- [ ] å‡½æ•°èŒè´£å•ä¸€

### ä»£ç è´¨é‡

- [ ] æ²¡æœ‰å†…å­˜æ³„æ¼
- [ ] å¼‚å¸¸å¤„ç†å®Œå–„
- [ ] èµ„æºæ­£ç¡®é‡Šæ”¾
- [ ] çº¿ç¨‹å®‰å…¨ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] æ€§èƒ½å¯æ¥å—

---

## ğŸ“ å­¦ä¹ å»ºè®®

### 1. å¾ªåºæ¸è¿›
- ä¸è¦è·³é˜¶æ®µ
- æ¯ä¸ªé˜¶æ®µéƒ½è¦ç†è§£é€å½»
- é‡åˆ°é—®é¢˜åŠæ—¶è§£å†³

### 2. å¤šå®è·µ
- å¤šå†™ä»£ç 
- å¤šæµ‹è¯•
- å¤šè°ƒè¯•

### 3. å¤šæ€è€ƒ
- ç†è§£è®¾è®¡åŸå› 
- æ€è€ƒæ”¹è¿›æ–¹æ¡ˆ
- æ€»ç»“å­¦ä¹ å¿ƒå¾—

### 4. å¤šäº¤æµ
- é‡åˆ°é—®é¢˜åŠæ—¶æé—®
- åˆ†äº«å­¦ä¹ ç»éªŒ
- å‚ä¸è®¨è®º

---

**ç¥ä½ å¼€å‘é¡ºåˆ©ï¼è®°ä½ï¼šç¼–ç¨‹æ˜¯ä¸€ä¸ªä¸æ–­å­¦ä¹ å’Œå®è·µçš„è¿‡ç¨‹ï¼Œé‡åˆ°å›°éš¾æ˜¯æ­£å¸¸çš„ï¼ŒåšæŒä¸‹å»å°±ä¼šæˆåŠŸï¼**

